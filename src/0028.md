### webpack 启动过程分析

#### 运行 webpack

1. 通过 npm scripts 运行 webpack

```js
$ npm run dev  // 开发环境

$ npm run build  // 生产环境
```

2. 通过 webpack 直接运行

```js
$ webpack entry.js build.js
```

#### 查找 webpack 入口文件

全局安装：mac、linux 下全局安装的命令，执行的时候是去 /user/local/bin 这个目录去找命令

局部安装：是当前项目 node_modules/.bin 这个目录去找

mac、linux 找 webpack.sh ，windows 找 webpack.cmd 这个文件，找到执行，否则报错

通过上面的查找和执行，发现实际入口文件是：node_modules/webpack/bin/webpack.js




#### 谁提供的命令

`node_modules/.bin/webpack` 这个命令是 node_modules/webpack 还是 node_modules/webpack-cli 提供的这个命令?


先看一下package.json：

因为局部安装想在 node_modules/.bin 下有这个命令的话，`就需要指定 package.json 里面的 bin 字段`

通过查找 webpack 和 webpack-cli 两个的 package.json 中的 bin 字段，发现 webpack 命令是 webpack 提供的，webpack-cli 提供的 是 webpack-cli 命令

然后 webpack 里面 bin 字段对应的目录是 `./bin/webpack`

结论：**实际入口文件是：node_modules/webpack/bin/webpack.js**， 所以运行 webpack 最后执行的是该处的代码
