### 快速开始

```js
$ npm i -D ts-loader
$ npm i -D typescript
```

跟 less-loader 有点类似，底层依赖于 ts

less-loader 底层依赖于 less


```js
module.export = {
  module: {
    rules: [
      {
        test: /\.ts$/,
        use: ['ts-loader']
      }
    ]
  }
}
```


### babel-loader 编译 ts

为什么 ts-loader 已经能处理ts了，还要使用 babel-loader 进行处理

```js
// 这个没有进行转换，影响兼容性
// ts-loader 只是 转成 js，但是没有进行添加 polyfill
const a = new Promise(() => {

})
```

### babel的预设

@babel/preset-env 处理 es6+ 语法

@babel/preset-react 处理 jsx 语法

@babel/preset-typescript  处理 ts 语法


```js
// webpack.config.js
module.export = {
  module: {
    rules: [
      {
        test: /\.ts$/,
        use: ["babel-loader"]
      }
    ]
  }
}
```

```js
// babel.config.js
module.export = {
  presets: [
    ["@babel/preset-env", {
      useBuiltIns: 'usage', // 做填充，用到哪个填充哪个
      corejs: 3
    }],
    ["@babel/preset-typescript"]
  ]
}
```


### 组合使用

babel-loader 不能对数据进行校验，不影响 build 操作

ts-loader 打包的时候就能暴露出来


```js
// package.json
"script": {
  build: npm run ck && webpack,
  ck: tsc --noEmit
}
```
