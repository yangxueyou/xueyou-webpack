### 为什么需要 loader

如果想要处理其它类型的文件，一般是非 js 的类型，就需要 loader

wepback4 loader 是三种方式 1.行内 loader 2.cli loader 3.配置文件 loader
webpack5 loader 两种 1.行内 loader 2.配置文件 loader

### loader 是什么

loader 也是一个模块，因为它里面也是拿 js 实现一些逻辑，起到转换的作用，让 css（css-loader 为例）能够参与这次打包

### css-loader

默认情况下，webpack 是不能处理 css 文件的

css-laoder 是解释 @import 和 url()。

只是能够让 webpack 识别 css 语法

```js
$ npm i -D css-loader
```

行内 loader

```js
import "css-loader!./css/index.css";
```

配置文件

```js
// webpack.config.js
const path = require("path");

module.exports = {
  entry: "./src/index.js",
  output: {
    filename: "build.js", // 打包结果的文件名称
    path: path.resolve(__dirname, "dist"), // 路径，只能是绝对路径
  },
  module: {
    rules: [
      {
        test: /\.css$/, // 一般就是一个正则表达式，用于匹配要处理的文件类型, \是转移， $表示结尾
        use: [
          {
            loader: "css-loader", // 表示要用的loader
            // options: // 字符串或着对象，可选参数，用户传进来特定的配置参数
            // query: // webpack5 里已经合并到options里面了
          },
        ],
      },
      // {
      //   test: /\.css$/,
      //   loader: 'css-loader'
      // },    // 上面的简写，只有一个loader，且没有什么配置参数，完全可以简写
      // {
      //   test: /\.css$/,
      //   use: ["css-loader"],
      // },     // 另一种简写形式，有多个loader，并且不需要配置参数
    ],
  },
};
```

### style-loader

让 css-loader 处理后的 css 能够在界面上展示

生成一个 style 标签，把样式放里面

```js
$ npm i -D style-loader
```

```js
// webpack.config.js
const path = require("path");

module.exports = {
  entry: "./src/index.js",
  output: {
    filename: "build.js", // 打包结果的文件名称
    path: path.resolve(__dirname, "dist"), // 路径，只能是绝对路径
  },
  module: {
    rules: [
      // {
      //   test: /\.css$/, // 一般就是一个正则表达式，用于匹配要处理的文件类型, \是转移， $表示结尾
      //   use: [
      //     {
      //       loader: "css-loader", // 表示要用的loader
      //       // options: // 字符串或着对象，可选参数，用户传进来特定的配置参数
      //       // query: // webpack5 里已经合并到options里面了
      //     },
      //   ],
      // },
      // {
      //   test: /\.css$/,
      //   loader: 'css-loader'
      // },    // 上面的简写，只有一个loader，且没有什么配置参数，完全可以简写
      {
        test: /\.css$/,
        use: ["style-loader", "css-loader"], // 执行顺序是从后向前
      }, // 另一种简写形式，有多个loader，并且不需要配置参数
    ],
  },
};
```

### less-loader

处理我们的 less 文件 转成 css

```css
@bgColor: 'green';
@fontSize: '100px';

.title: {
  background-color: @bgColor;
  font-size: @fontSize;
}
```

less-loader 内部是基于 less 实现的，所以我们需要安装 less

```js
$ npm i -D less less-loader
$ npx less ./src/index.less index.css
```

```js
// webpack.config.js
const path = require("path");

module.exports = {
  entry: "./src/index.js",
  output: {
    filename: "build.js", // 打包结果的文件名称
    path: path.resolve(__dirname, "dist"), // 路径，只能是绝对路径
  },
  module: {
    rules: [
      // {
      //   test: /\.css$/, // 一般就是一个正则表达式，用于匹配要处理的文件类型, \是转移， $表示结尾
      //   use: [
      //     {
      //       loader: "css-loader", // 表示要用的loader
      //       // options: // 字符串或着对象，可选参数，用户传进来特定的配置参数
      //       // query: // webpack5 里已经合并到options里面了
      //     },
      //   ],
      // },
      // {
      //   test: /\.css$/,
      //   loader: 'css-loader'
      // },    // 上面的简写，只有一个loader，且没有什么配置参数，完全可以简写
      {
        test: /\.css$/,
        use: ["style-loader", "css-loader"], // 执行顺序是从后向前
      }, // 另一种简写形式，有多个loader，并且不需要配置参数
      {
        test: /\.less$/,
        use: ["style-loader", "css-loader", "less-loader"], // 执行顺序是从后向前
      },
    ],
  },
};
```
